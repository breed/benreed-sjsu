<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} | Reed, Ben</title>
    <link rel="icon" type="image/png" href="{{ '/pics/logo.png' | relative_url }}">
    <link rel="stylesheet" href="{{ '/css/style.css' | relative_url }}">
</head>
<body>
    <header>
        <div class="container">
            <a href="https://www.sjsu.edu/cmpe/index.php" class="site-title">SJSU Computer Engineering</a>
            <button class="nav-toggle" aria-label="Toggle navigation">&#9776;</button>
            <nav>
                <a href="{{ '/' | relative_url }}">Home</a>
                <a href="{{ '/extra-chapters' | relative_url }}">Extra Book Chapters</a>
                <a href="{{ '/icpc/' | relative_url }}">ICPC Team</a>
                <a href="{{ '/systems-group/' | relative_url }}">Systems Group</a>
                <a href="{{ '/distributed-systems/' | relative_url }}">Distributed Systems</a>
                <a href="{{ '/projects/' | relative_url }}">MS&Senior Projects</a>
                <a href="{{ '/experimental-courses/' | relative_url }}">Courses</a>
                <a href="{{ '/videos/' | relative_url }}">Videos</a>
            </nav>
            <button id="font-toggle" class="font-toggle-btn">Awesomize</button>
        </div>
    </header>

    {% if page.hero %}
    <section class="hero">
        <div class="container">
            <h1>{{ page.hero_title }}</h1>
            <p class="subtitle">{{ page.hero_subtitle }}</p>
        </div>
    </section>
    {% endif %}

    <main>
        <div class="container">
            {% if page.page_title %}
            <h1 class="page-title">{{ page.page_title }}</h1>
            {% endif %}

            {{ content }}
        </div>
    </main>

    <footer>
        <div class="container">
            <p>One Washington Square, San Jose, CA 95192 | 408-924-1000</p>
        </div>
    </footer>

    <script>
        (function() {
            // Font toggle
            const btn = document.getElementById('font-toggle');
            const body = document.body;

            if (localStorage.getItem('awesomeFont') === 'true') {
                body.classList.add('awesome-font');
                btn.textContent = 'Boringize';
            }

            btn.addEventListener('click', function() {
                body.classList.toggle('awesome-font');
                const isAwesome = body.classList.contains('awesome-font');
                btn.textContent = isAwesome ? 'Boringize' : 'Awesomize';
                localStorage.setItem('awesomeFont', isAwesome);
            });

            // Mobile nav toggle
            const navToggle = document.querySelector('.nav-toggle');
            const nav = document.querySelector('nav');

            navToggle.addEventListener('click', function() {
                nav.classList.toggle('active');
            });
        })();
    </script>
    {% if page.mastodon_feed %}
    <script src="{{ '/js/mastodon-timeline.js' | relative_url }}"></script>
    {% endif %}
</body>
</html>
